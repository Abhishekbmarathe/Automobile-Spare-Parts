<link rel="stylesheet" href="/styles/style.css">
<link rel="stylesheet" href="/styles/utils.css">

<style>
    .navForm button {
        background: none;
        border: none;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        transition: color 0.3s ease, background-color 0.3s ease, border-radius 0.3s ease;
        padding: 10px 20px;
        border-radius: 5px;
    }

    .navForm button:hover {
        color: #f0c040;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
    }

    .button {
        transform: scale(.8);
        outline: none;
        font-family: 'Helvetica Neue', sans-serif;
        font-size: 16px;
        color: hsla(350, 0%, 100%, 1);
        text-shadow: -1px -1px 1px hsla(350, 0%, 0%, 0.7), 1px 1px 1px hsla(350, 0%, 100%, 0.3);
        margin: 0;
        padding: 10px 27px;
        cursor: pointer;
        background-color: red;
        background-image: linear-gradient(273deg, hsla(0, 80%, 60%, 1) 30%, hsla(0, 80%, 50%, 1) 40%);
        border: none;
        border-radius: 16px;
        transition: background-color 0.3s ease, transform 0.2s ease, border-radius 0.3s ease;
    }

    .button:hover {
        background-color: darkred;
        transform: scale(0.85);
        border-radius: 20px;
    }

    .button:active {
        color: hsla(350, 0%, 85%, 1);
        padding: 11px 28px;
        background-image: linear-gradient(273deg, hsla(350, 80%, 50%, 1) 50%, hsla(350, 80%, 55%, 1) 60%);
        box-shadow:
            inset 3px 4px 3px 2px hsla(350, 80%, 20%, 0.55),
            inset 0px 0px 1px 1px hsla(350, 80%, 30%, 0.9),
            inset -1px -1px 2px 3px hsla(350, 80%, 50%, 0.9),
            inset -2px -2px 1px 3px hsla(350, 80%, 100%, 0.8),
            inset 0px 0px 2px 7px hsla(350, 80%, 60%, 0.8),
            inset 0px 0px 3px 10px hsla(350, 80%, 50%, 0.9),
            0px 0px 3px 2px hsla(350, 80%, 40%, 0.9),
            0px 0px 2px 6px hsla(350, 80%, 50%, 0.9),
            -1px -1px 1px 6px hsla(350, 80%, 100%, 0.9),
            0px 0px 2px 11px hsla(350, 80%, 50%, 0.9),
            0px 0px 1px 12px hsla(350, 80%, 40%, 0.9),
            1px 3px 14px 14px hsla(350, 80%, 0%, 0.4);
    }

    #my_orders {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease, border-radius 0.3s ease;
    }

    #my_orders:hover {
        background-color: #0056b3;
        transform: scale(0.95);
        border-radius: 10px;
    }

    .add-to-cart, .my-cart {
        background-color: #28a745;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease, border-radius 0.3s ease;
    }

    .add-to-cart:hover, .my-cart:hover {
        background-color: #218838;
        transform: scale(0.95);
        border-radius: 10px;
    }

    .spar {
        width: 100%;
        text-align: center;
        background-color: #026eb1;
        color: rgb(6, 6, 6);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px;
    }

    .spar h1 {
        margin: 0;
    }

    .search-box {
        width: fit-content;
        height: fit-content;
        position: relative;
    }

    .input-search {
        height: 50px;
        width: 50px;
        border-style: none;
        padding: 10px;
        font-size: 18px;
        letter-spacing: 2px;
        outline: none;
        border-radius: 25px;
        transition: all .5s ease-in-out;
        background-color: #22a6b3;
        padding-right: 40px;
        color: #fff;
    }

    .input-search::placeholder {
        color: rgba(255, 255, 255, .5);
        font-size: 18px;
        letter-spacing: 2px;
        font-weight: 100;
    }

    .btn-search {
        width: 50px;
        height: 50px;
        border-style: none;
        font-size: 20px;
        font-weight: bold;
        outline: none;
        cursor: pointer;
        border-radius: 50%;
        position: absolute;
        right: 0px;
        color: #ffffff;
        background-color: transparent;
        pointer-events: painted;
    }

    .btn-search:focus~.input-search {
        width: 300px;
        border-radius: 0px;
        background-color: transparent;
        border-bottom: 1px solid rgba(255, 255, 255, .5);
        transition: all 500ms cubic-bezier(0, 0.110, 0.35, 2);
    }

    .input-search:focus {
        width: 300px;
        border-radius: 0px;
        background-color: transparent;
        border-bottom: 1px solid rgba(255, 255, 255, .5);
        transition: all 500ms cubic-bezier(0, 0.110, 0.35, 2);
    }

    :root {
        --colour: hsla(350, 100%, 25%, 1);
        --grey: #262626;
        --light-grey: #595959;
        --lightened-grey-18: #474747;
        --lightened-grey-25: #404040;
        --lightened-grey-35: #333333;
    }
</style>

<header>
    <div class="logo"><a href="#">
            <h2>NUTS & BOLTZZ</h2>
        </a></div>
    <div class="menu flex">
        <form action="/navigate" class="navForm flex gap-2" method="get">
            <!-- <button type="submit" name="action" value="home" class="under">HOME</button> -->
            <!-- <button type="submit" name="action" value="contact_us" class="under">CONTACT US</button>
            <button type="submit" name="action" value="about_us" class="under">ABOUT US</button> -->
            <button type="submit" name="action" value="my_cart" class="under my-cart">MY CART</button>
        </form>
    </div>
    <form id="myOrders">
        <button type="submit" class="under" id="my_orders">MY ORDERS</button>
    </form>
    <form id="logout-form" method="get">
        <button type="submit" class="button">LOG OUT</button>
    </form>
</header>


<script>
    function submitForm() {
        const form = document.getElementById("myOrders");
        const userId = localStorage.getItem("userId");

        form.setAttribute("action", "/myorders");
        form.setAttribute("method", "post");

        const userIdInput = document.createElement("input");
        userIdInput.type = "hidden";
        userIdInput.name = "userId";
        userIdInput.value = userId;

        form.appendChild(userIdInput);

        form.submit();
    }

    document.getElementById("my_orders").addEventListener("click", function (event) {
        event.preventDefault();
        submitForm();
    });

    document.addEventListener("DOMContentLoaded", () => {
        const logoutForm = document.getElementById("logout-form");

        logoutForm.addEventListener("submit", (event) => {
            event.preventDefault();
            localStorage.removeItem("userId");
            console.log("userId is cleared from local storage:", localStorage.getItem("userId"));
            window.location.href = "/logout";
        });
    });
</script>
